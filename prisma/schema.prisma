generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model User {
    id            String          @id @default(uuid())
    title         String
    name          String
    email         String          @unique
    password      String
    role          String
    avatar        String?
    createdAt     DateTime        @default(now())
    updatedAt     DateTime        @updatedAt
    Project       Project?        @relation(fields: [projectId], references: [id])
    projectId     String?
    Issue         Issue[]
    Notifications Notifications[]
}

model Project {
    id        String   @id @default(uuid())
    title     String
    details   String
    startDate DateTime
    endDate   DateTime
    issues    Issue[]
    team      User[]
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model Issue {
    id         String   @id @default(uuid())
    title      String
    details    String
    status     String
    type       String
    priority   String
    project    Project  @relation(fields: [projectId], references: [id])
    projectId  String
    assignee   User     @relation(fields: [assigneeId], references: [id])
    assigneeId String
    createdAt  DateTime @default(now())
    updatedAt  DateTime @updatedAt
}

model Notifications {
    id        String   @id @default(uuid())
    seen      Boolean? @default(false)
    type      String
    date      DateTime @default(now())
    title     String
    details   String
    user      User?    @relation(fields: [userId], references: [id])
    userId    String?
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
